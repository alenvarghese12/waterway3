<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Service Setup Guide</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #0066cc;
            margin-top: 0;
        }
        h2 {
            color: #0066cc;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-top: 30px;
        }
        pre {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 4px;
            overflow: auto;
            font-family: 'Consolas', monospace;
            font-size: 14px;
        }
        code {
            background-color: #f0f0f0;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: 'Consolas', monospace;
            font-size: 14px;
        }
        .callout {
            background-color: #e6f3ff;
            border-left: 4px solid #0066cc;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        .callout.warning {
            background-color: #fff4e5;
            border-left-color: #ff9800;
        }
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #0055aa;
        }
        .btn-primary {
            background-color: #00C851;
        }
        .btn-primary:hover {
            background-color: #00a844;
        }
        ol li, ul li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ML Service Setup Guide</h1>
        
        <div class="callout">
            <p><strong>Quick Start:</strong> If you just want to start the ML service, you can use our simple launcher:</p>
            <p><a href="start_service.html" class="btn btn-primary" target="_blank">Launch ML Service</a></p>
        </div>
        
        <h2>Overview</h2>
        <p>The ML Fraud Detection service is a Python Flask application that provides machine learning-based fraud detection for the booking system. When this service is not running, the system falls back to rule-based detection.</p>
        
        <h2>Requirements</h2>
        <ul>
            <li>Python 3.8 or higher</li>
            <li>Flask and Flask-CORS packages</li>
        </ul>
        
        <h2>Starting the Service</h2>
        <p>There are multiple ways to start the service:</p>
        
        <h3>Option 1: Using the Launcher</h3>
        <p>The easiest way to start the service is to use our launcher page:</p>
        <ol>
            <li>Click on the <a href="start_service.html" target="_blank">Launch ML Service</a> button</li>
            <li>On the launcher page, click "Start ML Service"</li>
            <li>Wait for the service to initialize</li>
            <li>Return to the Fraud Analysis Panel and refresh the page</li>
        </ol>
        
        <h3>Option 2: Using the Batch File</h3>
        <p>You can directly run the batch file from Windows Explorer:</p>
        <ol>
            <li>Navigate to <code>Backend\ml_python_server</code> in Windows Explorer</li>
            <li>Double-click on <code>start_simple.bat</code></li>
            <li>This will open a command prompt window and start the service</li>
            <li><strong>Important:</strong> Keep this window open while you want the service to run</li>
        </ol>
        
        <h3>Option 3: Running Manually</h3>
        <p>For developers who prefer to run the service manually:</p>
        <ol>
            <li>Open a command prompt</li>
            <li>Navigate to the <code>Backend\ml_python_server</code> directory</li>
            <li>Run the following commands:</li>
        </ol>
        <pre>pip install flask flask-cors
python simple_server.py</pre>
        
        <h2>Troubleshooting</h2>
        
        <h3>Service Won't Start</h3>
        <ul>
            <li><strong>Check Python Installation:</strong> Ensure Python 3.8+ is installed and in your PATH</li>
            <li><strong>Check Port Availability:</strong> Make sure port 5001 is not in use by another application</li>
            <li><strong>Check Console Output:</strong> Look for error messages in the command prompt window</li>
        </ul>
        
        <h3>Service Starts but System Still Uses Rule-Based Detection</h3>
        <ul>
            <li><strong>Check the API:</strong> Visit <a href="http://localhost:5001/status" target="_blank">http://localhost:5001/status</a> directly to verify the service is responding</li>
            <li><strong>Refresh the Admin Panel:</strong> Sometimes you need to refresh the Fraud Analysis Panel after starting the service</li>
            <li><strong>Check Console for Errors:</strong> Open browser developer tools (F12) and check for any connection errors</li>
        </ul>
        
        <div class="callout warning">
            <h3>Important Notes</h3>
            <ul>
                <li>The ML service runs on port 5001 by default</li>
                <li>The service will continue running until you close the command window or press Ctrl+C</li>
                <li>For security reasons, the service only accepts connections from localhost</li>
                <li>This is a simplified version of the service without scikit-learn dependencies</li>
            </ul>
        </div>
        
        <h2>Advanced: Full ML Model</h2>
        <p>This setup uses a simplified version of the ML service. For the full version with scikit-learn and TensorFlow:</p>
        <ol>
            <li>Open a command prompt with admin privileges</li>
            <li>Navigate to <code>Backend\ml_python_server</code></li>
            <li>Run the following commands:</li>
        </ol>
        <pre>pip install -r requirements.txt
python server.py</pre>
        
        <p>The full version provides more accurate fraud detection but requires additional dependencies.</p>
        
        <div style="margin-top: 40px; text-align: center;">
            <a href="javascript:window.close();" class="btn">Close Guide</a>
            <a href="start_service.html" class="btn btn-primary" target="_blank">Launch ML Service</a>
        </div>
    </div>
</body>
</html> 